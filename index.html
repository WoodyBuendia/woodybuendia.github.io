<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
      
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          rootUrl: '/',
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
<meta name="generator" content="Hexo 4.2.1"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/head.jpg" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/" title="Hi Mate">John Doe</a></h1>
        </hgroup>

        
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/Home">博客首页</a></li>
                        
                            <li><a href="/works">作品展示</a></li>
                        
                            <li><a href="/about">留言打卡</a></li>
                        
                            <li><a href="/FrontEndGuide">前端导航</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=PAkNDgsKBQ4MCnxNTRJfU1E" title="mail">mail</a>
                            
                                <a class="fl github" target="_blank" href="https://github.com/luuman" title="github">github</a>
                            
                                <a class="fl zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
                            
                                <a class="fl weibo" target="_blank" href="#" title="weibo">weibo</a>
                            
                                <a class="fl google" target="_blank" href="#" title="google">google</a>
                            
                                <a class="fl twitter" target="_blank" href="#" title="twitter">twitter</a>
                            
                                <a class="fl linkedin" target="_blank" href="#" title="linkedin">linkedin</a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/CST/" style="font-size: 10px;">CST</a> <a href="/tags/HFSS/" style="font-size: 10px;">HFSS</a> <a href="/tags/HFSS-Matlab-API/" style="font-size: 20px;">HFSS-Matlab API</a> <a href="/tags/RFID/" style="font-size: 10px;">RFID</a> <a href="/tags/antenna-magus/" style="font-size: 10px;">antenna magus</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/pytorch/" style="font-size: 10px;">pytorch</a> <a href="/tags/%E4%BC%98%E5%8C%96/" style="font-size: 10px;">优化</a> <a href="/tags/%E5%9B%BE%E5%83%8F%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/" style="font-size: 10px;">图像目标检测</a> <a href="/tags/%E5%A4%A9%E7%BA%BF/" style="font-size: 20px;">天线</a> <a href="/tags/%E5%B7%A5%E4%BD%9C%E7%AC%94%E8%AE%B0/" style="font-size: 10px;">工作笔记</a> <a href="/tags/%E7%94%B5%E6%A1%A5/" style="font-size: 10px;">电桥</a> <a href="/tags/%E8%AE%B0%E5%BD%95/" style="font-size: 10px;">记录</a> <a href="/tags/%E8%B5%84%E6%BA%90/" style="font-size: 10px;">资源</a> <a href="/tags/%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/" style="font-size: 10px;">遗传算法</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://luuman.github.io/">name</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">纯海迷、爱运动、爱交友、爱旅行、喜欢接触新鲜事物、迎接新的挑战，更爱游离于错综复杂的编码与逻辑中</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="Me">John Doe</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="Me">John Doe</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/Home">博客首页</a></li>
                
                    <li><a href="/works">作品展示</a></li>
                
                    <li><a href="/about">留言打卡</a></li>
                
                    <li><a href="/FrontEndGuide">前端导航</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=PAkNDgsKBQ4MCnxNTRJfU1E" title="mail">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/luuman" title="github">github</a>
                    
                        <a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
                    
                        <a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
                    
                        <a class="google" target="_blank" href="#" title="google">google</a>
                    
                        <a class="twitter" target="_blank" href="#" title="twitter">twitter</a>
                    
                        <a class="linkedin" target="_blank" href="#" title="linkedin">linkedin</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/06/18/hello-world/" class="article-date">
      <time datetime="2020-06-18T01:55:12.187Z" itemprop="datePublished">2020-06-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/06/18/hello-world/">Hello World</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>Welcome to My Blog, I am WoodyBuendia.THis Blog base on Hexo and Github</p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-e7-bd-91-e7-ab-99-e5-85-ac-e5-91-8a-ef-bc-9a-e5-80-92-e8-ae-a1-e6-97-b668-e5-a4-a9-e8-bf-81-e7-a7-bb-e6-88-96-e5-85-b3-e7-ab-99" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/04/21/e7-bd-91-e7-ab-99-e5-85-ac-e5-91-8a-ef-bc-9a-e5-80-92-e8-ae-a1-e6-97-b668-e5-a4-a9-e8-bf-81-e7-a7-bb-e6-88-96-e5-85-b3-e7-ab-99/" class="article-date">
      <time datetime="2020-04-21T12:58:10.000Z" itemprop="datePublished">2020-04-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/21/e7-bd-91-e7-ab-99-e5-85-ac-e5-91-8a-ef-bc-9a-e5-80-92-e8-ae-a1-e6-97-b668-e5-a4-a9-e8-bf-81-e7-a7-bb-e6-88-96-e5-85-b3-e7-ab-99/">网站公告：倒计时68天迁移或关站</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>最近一直瞎忙，没有时间更新博客，其实想记录的东西还有很多。</p>
<p>最近仿天线，中间走了一段弯路，还是想说一句，仿真、建模、自动化这些都是表面东西，做天线最核心的还是要弄明白原理，从文献资料上看来的尺寸、形式，都要能知道为什么，否则盲目的优化、仿真，是很艰难的。</p>
<p>然而，天线种类这么多，精力有限，大部分情况下，都是通过浏览论文来了解和学习不熟悉的东西，而这通常走马观花，或者论文本来就写的云里雾里。</p>
<p>另外一个比较深的感受就是，毕业之后，对技术也好，工作也好，如果没有一个强大的驱动力，像我这种不自觉地人就很难主动的去钻研。。这是真的。</p>
<p>驱动力来自工作任务或者项目，那总是被动去干活，时间长了就会发现各种忙乱和没有准备。</p>
<p>如果驱动力来自内在，那就是真正的自己钻研了，这才是一个我比较喜欢的状态。</p>
<hr>
<p>这个博客网站，到现在访问量有两万多了，可能有些也是各种网络扫描和机器人。</p>
<ul>
<li>累计访问:24,484</li>
<li>总浏览量:13,536</li>
</ul>
<p>目前网站运行在Google Cloud PlantForm，使用的是Google Cloud首次300美元/一年的免费额度。算了一下继续使用GCP，费用比较高，个人也承担不了。打算迁徙到其他的云服务平台。</p>
<p>为了提高国内访问的可靠性，主要看了阿里云的主机，看看价格，也要小一千的费用一年。。最近比较穷。。哎。。不行就再找找免费的博客托管网站吧。。</p>
<p>2020年4月21日，倒计时68天，网站将迁移或者关闭。</p>
<p>感谢各种朋友的关注。</p>
<p><strong>Woody Buendia</strong></p>
<p>20200421 烟台</p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-e3-80-90matlab-hfss-api-e3-80-91-e9-81-87-e5-88-b0-e9-97-ae-e9-a2-98-e8-af-a5-e5-a6-82-e4-bd-95-e8-a7-a3-e5-86-b3" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/23/e3-80-90matlab-hfss-api-e3-80-91-e9-81-87-e5-88-b0-e9-97-ae-e9-a2-98-e8-af-a5-e5-a6-82-e4-bd-95-e8-a7-a3-e5-86-b3/" class="article-date">
      <time datetime="2020-02-23T00:49:48.000Z" itemprop="datePublished">2020-02-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/23/e3-80-90matlab-hfss-api-e3-80-91-e9-81-87-e5-88-b0-e9-97-ae-e9-a2-98-e8-af-a5-e5-a6-82-e4-bd-95-e8-a7-a3-e5-86-b3/">【MATLAB HFSS API】遇到问题该如何解决</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>——记一次与读者Email的交流记录</p>
<p>首先，大家新年好。许久没有更新文章了，恰好前几天收到一封邮件，来询问关于MATLAB HFSS API使用中的问题。这位朋友的邮件，可以说写的非常好，不仅完整清晰的记录的问题，也可以看出是在认真思考之后才来寻求帮助的。</p>
<p>就把这次沟通的过程，作为2020年第一篇文章吧。</p>
<p>简而言之，这位朋友在使用API里面的一个函数，名为 hfssEditSources ，遇到了问题。如果有人在使用中遇到问题，请仔细阅读本文，应该会有帮助。本文详细描述了遇到报错该如何解决，以及如何参照HFSS自动记录的脚本，来修改和编写函数。这是一个通用的做法。</p>
<h2 id="第一封邮件"><a href="#第一封邮件" class="headerlink" title="第一封邮件"></a>第一封邮件</h2><p>Woody Buendia你好：</p>
<p>我是你的博客的一位读者，读到你的教程和资料之后，让我收获很多。      但作为刚刚设计天线仿真的一个新手，在我自己进行仿真时，遇到了问题，困扰了我几天仍然没有解决，想向你请教一下。      首先我基于较早版本的examples文件夹中的microwave_patch.m这个文件重新进行了设计，得到了一个9*1的线阵。由于我的目标是基于hfss和matlab，利用***算法调整阵元的激励，从而优化阵列方向图。因此需要对阵元激励进行调整，在读过你的教程之后，基于我的理解，我采用了hfssEditSources这个函数，格式如下：  </p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2020/02/image-1-1024x38.png" alt=""></p>
<p>可以得到vbs脚本，但在hfss中run script之后，报错如下：</p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2020/02/image-2.png" alt=""></p>
<p>我个人分析认为，.m文件没有报错，对于函数的使用应该是没有问题的。应该是hfssEditSources.m或者vbs文件的问题，但对于vbs的语法我个人一知半解，对于这个报错网上的讨论也不多，我自己的理解很可能是错的。就想就这个问题问问你，听一下你的见解。       在工作日的晚上打扰你，还请谅解；你能抽时间阅读我的邮件和问题，我不胜感激。       另外，也想咨询你一下，对于方向图优化的过来人的经验和想法，比如这个方面是否有其他的成熟的模式或者软件，如果你愿意指导和分享给我，我也十分感谢！       附件中，是我的.m文件和vbs文件，.m文件由于进行了多次尝试，注释的较乱，请多包涵。<br>wx 2020.02.19</p>
<h2 id="我的回复"><a href="#我的回复" class="headerlink" title="我的回复"></a>我的回复</h2><p>wx 你好我简要写了一个文档，你可以参考看看，最后附的matlab代码我并没有来得及验证，但意思应该表达的较为明确了。</p>
<p>对于方向图优化的问题：如果是优化副瓣电平、加窗等，这种现有的解析公式已经有比较好的结果了，可以参考天线相关书籍，例如电子科技大学王建老师的书：阵列天线理论与工程应用；如果是特殊的波束要求，使用随机优化算法的效果还是比较好的。但是仿真起来有些麻烦，就比如你现在做的，会遇到matlab来回调用hfss，效率比较低。这个问题我也遇到过，最后是通过避免调用hfss来提高效率，***<br>WoodyBuendia20200220</p>
<p>附件：<a href="http://woodybuendia.site/wp-content/uploads/2020/02/Edit-Sources问题.pdf" target="_blank" rel="noopener">http://woodybuendia.site/wp-content/uploads/2020/02/Edit-Sources问题.pdf</a></p>
<h2 id="这位朋友的回信"><a href="#这位朋友的回信" class="headerlink" title="这位朋友的回信"></a>这位朋友的回信</h2><p>WoodyBuendia：</p>
<p>十分感谢你的回复和详细文档，上午收到了你的文档就开始了调试。<br>问题最终被解决了，对照test和microstrip的vbs文件的不同，我发现我使用的hfss15和你使用的hfss2019 r1所需要进行的修改不同，我重新在你的hfssEditSources.m文件上进行了一定程度的修改：1. 将幅度magnitudes相关的“%fw”修改为“%fW”（单位的问题）；2. 将源程序中最后的%fprintf(fid, ‘Array(“NAME:Impedances”), _\n’); %fprintf(fid, ‘  false, false,false,”1W”‘);的两行代码，对照正确的vbs文件修改为了fprintf(fid, ‘Array(“NAME:Impedances”),  false, false’);3. 删除了一些下划线；这样修改后得到了附件中的hfssEditSourcestest.m。另外，考虑到函数有传入mode参数的可能，增加了函数的一个参数mode，将原有对mode赋1的操作，修改为与幅相类似的循环，得到附件中的hfssEditSourcesupdate.m。这两个修改后的文件都可以完成edit sources的操作。<br>另外，你有关方向图优化的建议对我来说也十分有价值，说真的，我本来的想法***【此处隐去】<br>十分感谢你的回复和帮助，解决了我的困惑，并且让我从matlab编程，接触到了vbs层次，掌握了新的调试技巧，加深了vbs使用和api编写的理解，这对我接下来的仿真和学习帮助真的很大。<br>再次感谢你在百忙之中的指导和帮助，也希望以后能和前辈就其他问题多多交流，还请你不吝赐教。<br>wx 20200220</p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/MATLAB/">MATLAB</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HFSS-Matlab-API/" rel="tag">HFSS-Matlab API</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-e3-80-90-e8-a7-a3-e5-86-b3-e5-8a-9e-e6-b3-95-e3-80-91win10-e5-8d-8e-e7-a1-95-e7-ac-94-e8-ae-b0-e6-9c-ac-e9-9f-b3-e9-a2-91-e6-9c-8d-e5-8a-a1-e6-9c-aa-e5-93-8d-e5-ba-94-e6-88-96-e8-80-85-e6-92-ad" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/11/23/e3-80-90-e8-a7-a3-e5-86-b3-e5-8a-9e-e6-b3-95-e3-80-91win10-e5-8d-8e-e7-a1-95-e7-ac-94-e8-ae-b0-e6-9c-ac-e9-9f-b3-e9-a2-91-e6-9c-8d-e5-8a-a1-e6-9c-aa-e5-93-8d-e5-ba-94-e6-88-96-e8-80-85-e6-92-ad/" class="article-date">
      <time datetime="2019-11-23T06:28:20.000Z" itemprop="datePublished">2019-11-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/23/e3-80-90-e8-a7-a3-e5-86-b3-e5-8a-9e-e6-b3-95-e3-80-91win10-e5-8d-8e-e7-a1-95-e7-ac-94-e8-ae-b0-e6-9c-ac-e9-9f-b3-e9-a2-91-e6-9c-8d-e5-8a-a1-e6-9c-aa-e5-93-8d-e5-ba-94-e6-88-96-e8-80-85-e6-92-ad/">【解决办法】win10华硕笔记本音频服务未响应或者播放失败请切换输出设备</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>我要被我的笔记本逼疯了，平时很少用到音频，基本也不用笔记本听声音。</p>
<p>但是我的笔记本一直有问题，总是音频服务未响应，表现为chrome播放在线视频没有声音，网易云音乐播放时提示：播放失败 请切换输出设备。</p>
<p>之前可以重启或者重启音频服务解决问题，但是今天上午无论无任何都不能使笔记本出声。一度想砸了电脑。</p>
<p>反复卸载重装声卡驱动也无法解决。</p>
<p>最终找到问题所在：windows音频服务的登陆设置有错误。</p>
<p>打开Windows Audio服务，选择登陆选项卡，选择第二项：此账户，浏览，输入local会自动选择本地服务，密码为空，选择应用。电脑立马出声。</p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/11/image-12-1024x532.png" alt=""></p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E4%BA%92%E8%81%94%E7%BD%91/">计算机与互联网</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-e5-a4-a9-e7-ba-bf-e9-98-b5-e5-88-97-e6-97-81-e7-93-a3-e7-9a-84-e6-8a-91-e5-88-b6" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/11/07/e5-a4-a9-e7-ba-bf-e9-98-b5-e5-88-97-e6-97-81-e7-93-a3-e7-9a-84-e6-8a-91-e5-88-b6/" class="article-date">
      <time datetime="2019-11-07T08:30:27.000Z" itemprop="datePublished">2019-11-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/07/e5-a4-a9-e7-ba-bf-e9-98-b5-e5-88-97-e6-97-81-e7-93-a3-e7-9a-84-e6-8a-91-e5-88-b6/">天线阵列旁瓣的抑制</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>本文简要介绍天线阵列抑制旁瓣的方法，均为教科书和文献中已有的经典手段，供参考。文中给出泰勒分布的MATLAB程序。</p>
<h2 id="微带阵列"><a href="#微带阵列" class="headerlink" title="微带阵列"></a>微带阵列</h2><p>以1x16单元的微带阵列为例，在等幅均匀馈电的情况下，阵列方向图如下，副瓣电平为-13dB左右。</p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/11/image-7.png" alt=""></p>
<p>1x16线阵等幅同相方向图</p>
<p>通过泰勒加权，对馈电幅度加权，来抑制副瓣，激励幅度如下：</p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/11/image-8.png" alt=""></p>
<p>泰勒加权</p>
<p>泰勒加权后的方向图如下，副瓣为-20db。</p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/11/image-9.png" alt=""></p>
<h3 id="MATLAB程序"><a href="#MATLAB程序" class="headerlink" title="MATLAB程序"></a>MATLAB程序</h3><pre><code>clc
clear
Num = 16;
f = 25;
d = 5.76;

SLL = 35;
nbar = Taylor_nbar(SLL);
Mag = Taylor(Num, SLL, nbar);</code></pre><h3 id="依赖函数"><a href="#依赖函数" class="headerlink" title="依赖函数"></a>依赖函数</h3><pre><code>%% Code to Generate Taylor Weights
% Arik D. Brown
% Original Code Author: F. W. Hopwood
function [wgt] = Taylor(points,sll,nbar)
r = 10^(abs(sll)/20);
a = log(r+(r*r-1)^0.5) / pi;
sigma2 = nbar^2/(a*a+(nbar-0.5)^2);
%--Compute Fm, the Fourier coefficients of the weight set
for m=1:(nbar-1)
    for n=1:(nbar-1)
        f(n,1)=1-m*m/sigma2/(a*a+(n-0.5)*(n-0.5));
        if n ~= m
            f(n,2)=1/(1-m*m/n/n);
        end
        if n==m
        f(n,2)=1;
        end
    end
    g(1,1)=f(1,1);
    g(1,2)=f(1,2);
    for n=2:(nbar-1)
        g(n,1)=g(n-1,1)*f(n,1);
        g(n,2)=g(n-1,2)*f(n,2);
    end
    F(m)=((-1)^(m+1))/2*g(nbar-1,1)*g(nbar-1,2);
end
jj = [1:points]&apos;;
xx = (jj-1+0.5)/points - 1/2; %-- column vector
W = ones(size(jj)); %-- column vector
mm = [1:nbar-1]; %-- row vector
W = W + 2*cos(2*pi*xx*mm)*F&apos;;
WPK = 1 + 2*sum(F);
wgt = W / WPK;</code></pre><h2 id="波导缝隙阵列天线的副瓣抑制"><a href="#波导缝隙阵列天线的副瓣抑制" class="headerlink" title="波导缝隙阵列天线的副瓣抑制"></a>波导缝隙阵列天线的副瓣抑制</h2><p>单根波导缝隙天线出了通过泰勒加权等调节缝隙参数降低副瓣，还可以通过扼流槽来很好的降低副瓣，效果十分明显。 通过调节槽深和槽宽 通过调节槽深和槽宽 ，可以实现接近-30dB的副瓣抑制。</p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/11/image-10.png" alt=""></p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/11/image-11.png" alt=""></p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/MATLAB/">MATLAB</a><a class="article-category-link" href="/categories/MATLAB/%E5%A4%A9%E7%BA%BF%E4%B8%8E%E5%BE%AE%E6%B3%A2/">天线与微波</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%A4%A9%E7%BA%BF/" rel="tag">天线</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-e6-88-91-e7-9a-84-e7-ac-ac-e4-b8-80-e4-b8-aapyhton-e7-a8-8b-e5-ba-8f-ef-bc-9a-e9-80-9a-e8-bf-87-e7-99-be-e5-ba-a6-e5-9c-b0-e5-9b-beapi-e8-87-aa-e5-8a-a8-e6-9f-a5-e8-af-a2-e8-b7-af-e5-86-b5" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/11/07/e6-88-91-e7-9a-84-e7-ac-ac-e4-b8-80-e4-b8-aapyhton-e7-a8-8b-e5-ba-8f-ef-bc-9a-e9-80-9a-e8-bf-87-e7-99-be-e5-ba-a6-e5-9c-b0-e5-9b-beapi-e8-87-aa-e5-8a-a8-e6-9f-a5-e8-af-a2-e8-b7-af-e5-86-b5/" class="article-date">
      <time datetime="2019-11-07T07:50:35.000Z" itemprop="datePublished">2019-11-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/07/e6-88-91-e7-9a-84-e7-ac-ac-e4-b8-80-e4-b8-aapyhton-e7-a8-8b-e5-ba-8f-ef-bc-9a-e9-80-9a-e8-bf-87-e7-99-be-e5-ba-a6-e5-9c-b0-e5-9b-beapi-e8-87-aa-e5-8a-a8-e6-9f-a5-e8-af-a2-e8-b7-af-e5-86-b5/">我的第一个Pyhton程序：通过百度地图API自动查询路况</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>——人生苦短，我学Python。</p>
<p>说学Python说了很久，书买了很多，网上资源也下载和保存了很多，然后依然没有开始动手写过一句python。终于，今天写了第一段我的Python代码。</p>
<p>本文面向Python小白，大神请无视。</p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/11/image-6.png" alt=""></p>
<p>推荐使用Spyder</p>
<h2 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h2><p>根据百度地图Web API，查询指定地点或区域的路况信息，并记录在txt文件中。根据一天中不同的时段，分别间隔2min、10min和30min自动查询。</p>
<h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><p>1.申请百度地图开发者账号，获得百度地图Web API的AccessKey。</p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/11/image-1-1024x134.png" alt=""></p>
<p>2.准备Python环境</p>
<p>有句名言，学Python的人，一半都被Python的环境劝退了。这是真的，太复杂了。经过不断的摸索和报错，我建议使用Spyder作为Python的集成开发环境（IDE），Spyder是一款科学python开发环境，极度适合习惯Matlab的用户。通过Anaconda Navigator主页中打开。</p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/11/image-2-1024x690.png" alt=""></p>
<h2 id="Python程序"><a href="#Python程序" class="headerlink" title="Python程序"></a>Python程序</h2><pre><code>import requests
import sys
import re
from datetime import datetime
import time

def getAK():
    f = open(&apos;AK.txt&apos;,&apos;r&apos;)
    AccessKey = f.read()
    f.close()
    return AccessKey

def getcenter(address):
    AK = getAK()
    #url = &apos;http://api.map.baidu.com/geocoding/v3/?address=烟台市玲珑路与金城路交叉口&amp;output=json&amp;ak=&apos;+AK+&apos;&amp;callback=showLocation&apos;
    url = &apos;http://api.map.baidu.com/geocoding/v3/?address=&apos;+address+&apos;&amp;output=json&amp;ak=&apos;+AK+&apos;&amp;callback=showLocation&apos;
    response = requests.get(url)
    datas = response.text
    numAll = re.findall(&apos;\d+&apos;,datas)
    lng = numAll[1]
    lng2 = numAll[2]
    lat = numAll[3]
    lat2 = numAll[4]
    center = str(lat)+&apos;.&apos;+str(lat2)+&apos;,&apos;+str(lng)+&apos;.&apos;+str(lng2)
    return center

AK = getAK()
modeltpye = 1

if modeltpye == 1:
    #model 1 center location of given longitude and latitude
    address = &apos;烟台市轸大路与澳柯玛大街交叉口&apos;
    #address = &apos;烟台市红旗中路与上夼西路&apos;
    Center = getcenter(address)
    url = &apos;http://api.map.baidu.com/traffic/v1/around?ak=&apos;+AK+&apos;&amp;center=&apos;+Center+&apos;&amp;radius=500&amp;coord_type_input=gcj02&amp;coord_type_output=gcj02&apos;
elif modeltpye == 2:
    #model 2 given road and city
    roadname = &apos;红旗中路&apos;
    city = &apos;烟台市&apos;
    url = &apos;http://api.map.baidu.com/traffic/v1/road?road_name=&apos;+roadname+&apos;&amp;city=&apos;+city+&apos;&amp;ak=&apos;+AK

datatime = datetime.now().strftime(&quot;%Y-%m-%d %H_%M_%S&quot;)

f = open(&apos;data_&apos;+datatime+&apos;.txt&apos;,&apos;w&apos;)

try:
    while True:
        datatime = datetime.now().strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)
        datatime_H = int(datetime.now().strftime(&apos;%H&apos;))
        busytime = [6,7,8,10,11,12,13,16,17,18]
        cleartime = [0,1,2,3,4,5,23]
        if datatime_H in busytime:
            timestep = 60*2
        elif datatime_H in cleartime:
            timestep = 60*30   
        else:
            timestep = 60*10

        f.write(datatime)
        f.write(&apos;\n&apos;)
        response = requests.get(url)
        datas = response.text
        count = datas.split(&quot;\r\n&quot;)
        f.write(datas)
        f.write(&apos;\n&apos;)
        f.flush()
        print(datatime)
        time.sleep(timestep)
except KeyboardInterrupt:
     print(datatime)

f.close()</code></pre><h2 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h2><h3 id="导入依赖的库"><a href="#导入依赖的库" class="headerlink" title="导入依赖的库"></a>导入依赖的库</h3><pre><code>import requests
import sys
import re
from datetime import datetime
import time</code></pre><h3 id="定义两个函数"><a href="#定义两个函数" class="headerlink" title="定义两个函数"></a>定义两个函数</h3><p>函数 getAK()，用来获取事先保存在同一目录下的AK.txt文件，文本中实现写入了你的百度AccessKey。通过这种方式让AccessKey适当隐藏一下。</p>
<p>函数 getcenter() 通过给定的地点，从百度API中查询对应的经纬度，默认是BD09：为百度坐标系。</p>
<h3 id="主要功能实现"><a href="#主要功能实现" class="headerlink" title="主要功能实现"></a>主要功能实现</h3><p>通过request模块，来实现对链接的访问，以及读取返回的信息。url的构造参考百度Web API的说明。</p>
<pre><code>url = &apos;http://api.map.baidu.com/geocoding/v3/?address=&apos;+address+&apos;&amp;output=json&amp;ak=&apos;+AK+&apos;&amp;callback=showLocation&apos;
    response = requests.get(url)
    datas = response.text</code></pre><h3 id="定时与写入文本"><a href="#定时与写入文本" class="headerlink" title="定时与写入文本"></a>定时与写入文本</h3><p>通过time.sleep控制程序查询时间间隔，使用try和except循环和中断。</p>
<pre><code>try:
    while True:
        datatime = datetime.now().strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)
       ...
        time.sleep(timestep)
except KeyboardInterrupt:
     print(datatime)</code></pre><p>通过f.open(), f.write()读写文本。并且通过每次写入后添加f.flush()来将缓存及时写入磁盘，这样就可以在运行过程中随时写入和保存，方便查看结果。</p>
<h2 id="存在的问题"><a href="#存在的问题" class="headerlink" title="存在的问题"></a>存在的问题</h2><p>由于区分了忙碌时间和空闲时间，忙碌时间查询间隔为2分钟一次，空闲时段查询时间为30分钟一次，其余时间查询间隔为10分钟。</p>
<p>使用time.sleep()来是循环等待对应时间，通过Crt+C来中断循环。但是发现程序进去time.sleep()之后就无法中断，必须等待sleep时间结束，才会中断进程。例如，空闲时段中，按下Ctrl+C无法立刻结束进程，必须等待当前time.sleep(60*30)走完才可以结束。</p>
<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p>丢到服务器里面自动跑。</p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/11/image-3-1024x576.png" alt=""></p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/11/image-4-1024x590.png" alt=""></p>
<h2 id="题外话"><a href="#题外话" class="headerlink" title="题外话"></a>题外话</h2><p>Python的模式匹配很好用啊，但是正则表达式还没学会。。另外能不能得到百度地图的实时用户数量分布？这样及时不堵车，也能看到车流量。</p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E4%BA%92%E8%81%94%E7%BD%91/">计算机与互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-e6-9d-82-e8-b0-88-e8-af-bb-e4-b9-a6" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/09/04/e6-9d-82-e8-b0-88-e8-af-bb-e4-b9-a6/" class="article-date">
      <time datetime="2019-09-04T09:32:37.000Z" itemprop="datePublished">2019-09-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/09/04/e6-9d-82-e8-b0-88-e8-af-bb-e4-b9-a6/">杂谈-读书</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>最近的几件事情让我挺有感触。</p>
<h2 id="一，丈母娘多次在朋友圈发余秋雨大师的文化讲堂，终于忍不住怒怼了。"><a href="#一，丈母娘多次在朋友圈发余秋雨大师的文化讲堂，终于忍不住怒怼了。" class="headerlink" title="一，丈母娘多次在朋友圈发余秋雨大师的文化讲堂，终于忍不住怒怼了。"></a>一，丈母娘多次在朋友圈发余秋雨大师的文化讲堂，终于忍不住怒怼了。</h2><p>余大师的文化苦旅在我高中时候，那看起来感觉就一个字牛逼，当时我爹翻了翻，让我不要看这种书，当时并不理解，只以为我爹老教条，不懂什么是秀口一吐就是半个盛唐的大气磅礴。后来逐渐了解了一些余大师的为人，渐觉大师人品有些问题。再后来，看到一本书，叫做识破天惊逗秋雨——余秋雨散文文史差错百例考辨，至此彻底沦为余黑。<br>然而，我最近检索的时候也有一些疑虑：到底余大师在文格中的坏坏的写手，还只是栽赃？余大师错误百出，但不能就此推导出此人就是坏。众说纷纭，难以辨别。不过对余秋雨的印象总归不好。</p>
<h2 id="二，读黄仁宇的万历十五年"><a href="#二，读黄仁宇的万历十五年" class="headerlink" title="二，读黄仁宇的万历十五年"></a>二，读黄仁宇的万历十五年</h2><p>说实话，作为工科已经工作的人来说，万历十五年这本书很难以坚持阅读下去，但总归在一个月内看完了，看的时候觉得，这个黄的观点很不错，提出来的数字社会也很有意义，对明代的历史和人物的分析也头头是道。再看这个黄的履历，清末出生，当过兵打过仗，中年才去美国，辗转读了博士，并收到英国那个谁的赏识，很是佩服。<br>然后，昨天在看一些资料的时候，无意中看到一篇论文，反驳黄的万历十五年里面关于李贽的分析，才发现黄的书里犯了一个我最讨厌的问题，那就是断章取义，引导读者。看了这篇论文才知道，黄对一些古文的引用完全是照着他的想法来曲解的，所有材料都为了他的观点服务，有点被欺骗的感觉。</p>
<h2 id="三，流沙河老先生"><a href="#三，流沙河老先生" class="headerlink" title="三，流沙河老先生"></a>三，流沙河老先生</h2><p>我并不知道流沙河是谁，检索了之后才知道在腾讯视频开过讲座，讲诗经，我应该是听过一些片段，觉得这个老先生讲的真不错，因为我本来也没有看过诗经。<br>昨天看到流沙河是因为无意在一个记录历史的网站看到一篇文章：流沙河口述“草木篇诗案”<a href="http://mjlsh.usc.cuhk.edu.hk/book.aspx?cid=7&tid=11&pid=2407&aid=2408" target="_blank" rel="noopener">http://mjlsh.usc.cuhk.edu.hk/book.aspx?cid=7&amp;tid=11&amp;pid=2407&amp;aid=2408</a><br>因为我对文格比较感兴趣，昨天加班的时候得闲仔细看了这篇长文，再检索流沙河的一些作品，一遍是感慨文格的荒谬，一遍是对这个老先生的学识表示赞同。<br>果然，没等我赞叹完一天，今天就看到关于流沙河的一些负面文章，说的也有细节和具体人物。再看到知乎一个提问，问流沙河与唐汉两个人的专业水平与许慎先生相比如何。才知道，流沙河讲的诗经也很多是经不起推敲的一家之言。唐汉就不用提了。</p>
<p>所以我也很困惑，感觉读书也很迷茫，很多书都是骗人的，然后得出这个结论的依据，也不见得就一定真是可靠。</p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-e5-b8-b8-e7-94-a8-e7-94-b5-e7-a3-81-e4-bb-bf-e7-9c-9f-e8-bd-af-e4-bb-b6" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/08/19/e5-b8-b8-e7-94-a8-e7-94-b5-e7-a3-81-e4-bb-bf-e7-9c-9f-e8-bd-af-e4-bb-b6/" class="article-date">
      <time datetime="2019-08-19T01:17:53.000Z" itemprop="datePublished">2019-08-19</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/08/19/e5-b8-b8-e7-94-a8-e7-94-b5-e7-a3-81-e4-bb-bf-e7-9c-9f-e8-bd-af-e4-bb-b6/">常用电磁仿真软件</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>常用电磁软件破解版下载</p>
<h3 id="ANSYS-Electronics-Desktop-2019-R3"><a href="#ANSYS-Electronics-Desktop-2019-R3" class="headerlink" title="ANSYS Electronics Desktop 2019 R3"></a>ANSYS Electronics Desktop 2019 R3</h3><p>链接: <a href="https://pan.baidu.com/s/1pYLCf23NjtRomHp7wcL7Tg" target="_blank" rel="noopener">https://pan.baidu.com/s/1pYLCf23NjtRomHp7wcL7Tg</a> 提取码: 03mx</p>
<h3 id="ANSYS-Electronics-Desktop-2019-R2"><a href="#ANSYS-Electronics-Desktop-2019-R2" class="headerlink" title="ANSYS Electronics Desktop 2019 R2"></a>ANSYS Electronics Desktop 2019 R2</h3><p>链接：<a href="https://pan.baidu.com/s/1msfX8Uc8NBlJT5p9UNRt\_Q" target="_blank" rel="noopener">https://pan.baidu.com/s/1msfX8Uc8NBlJT5p9UNRt\_Q</a><br>提取码：91cq<br>复制这段内容后打开百度网盘手机App，操作更方便哦</p>
<h3 id="ANSYS-Electronics-Desktop-2019-R1"><a href="#ANSYS-Electronics-Desktop-2019-R1" class="headerlink" title="ANSYS Electronics Desktop 2019 R1"></a>ANSYS Electronics Desktop 2019 R1</h3><p>链接：<a href="https://pan.baidu.com/s/1lNXJCVcCnf\_T6c8te2cFjQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1lNXJCVcCnf\_T6c8te2cFjQ</a><br>提取码：5puk<br>复制这段内容后打开百度网盘手机App，操作更方便哦</p>
<h2 id="CST-STUDIO-SUITE"><a href="#CST-STUDIO-SUITE" class="headerlink" title="CST STUDIO SUITE"></a>CST STUDIO SUITE</h2><h3 id="CST-2018"><a href="#CST-2018" class="headerlink" title="CST 2018"></a>CST 2018</h3><p>链接：<a href="https://pan.baidu.com/s/1ybbYqimRy1r3gaYajD4WBw" target="_blank" rel="noopener">https://pan.baidu.com/s/1ybbYqimRy1r3gaYajD4WBw</a><br>提取码：80nj<br>复制这段内容后打开百度网盘手机App，操作更方便哦</p>
<h3 id="CST-2019"><a href="#CST-2019" class="headerlink" title="CST 2019"></a>CST 2019</h3><p>链接：<a href="https://pan.baidu.com/s/1qVM1WOZZn50DfbOgtoiCQQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1qVM1WOZZn50DfbOgtoiCQQ</a><br>提取码：9f1r<br>复制这段内容后打开百度网盘手机App，操作更方便哦</p>
<h2 id="MATLAB"><a href="#MATLAB" class="headerlink" title="MATLAB"></a>MATLAB</h2><h3 id="MATLAB-R2017a"><a href="#MATLAB-R2017a" class="headerlink" title="MATLAB R2017a"></a>MATLAB R2017a</h3><p>链接：<a href="https://pan.baidu.com/s/1CpPK7FzA-hbmoC-Izs4zeA" target="_blank" rel="noopener">https://pan.baidu.com/s/1CpPK7FzA-hbmoC-Izs4zeA</a><br>提取码：jh84<br>复制这段内容后打开百度网盘手机App，操作更方便哦</p>
<h2 id="Antenna-Magus-Pro-2019-V9-2"><a href="#Antenna-Magus-Pro-2019-V9-2" class="headerlink" title="Antenna Magus Pro 2019 V9.2"></a><a href="http://woodybuendia.site/?p=283" target="_blank" rel="noopener">Antenna Magus Pro 2019 V9.2</a></h2><p><a href="http://woodybuendia.site/?p=283" target="_blank" rel="noopener">http://woodybuendia.site/?p=283</a></p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E8%B5%84%E6%BA%90/">资源</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%B5%84%E6%BA%90/" rel="tag">资源</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-e6-b7-b1-e5-ba-a6-e5-ad-a6-e4-b9-a0-e4-b9-8b-e5-9b-be-e5-83-8f-e7-9b-ae-e6-a0-87-e6-a3-80-e6-b5-8b-e5-88-86-e7-b1-bb-e7-9c-9f-e6-89-8b-e6-8a-8a-e6-89-8b-e6-95-99-e7-a8-8b" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/07/19/e6-b7-b1-e5-ba-a6-e5-ad-a6-e4-b9-a0-e4-b9-8b-e5-9b-be-e5-83-8f-e7-9b-ae-e6-a0-87-e6-a3-80-e6-b5-8b-e5-88-86-e7-b1-bb-e7-9c-9f-e6-89-8b-e6-8a-8a-e6-89-8b-e6-95-99-e7-a8-8b/" class="article-date">
      <time datetime="2019-07-19T06:30:05.000Z" itemprop="datePublished">2019-07-19</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/19/e6-b7-b1-e5-ba-a6-e5-ad-a6-e4-b9-a0-e4-b9-8b-e5-9b-be-e5-83-8f-e7-9b-ae-e6-a0-87-e6-a3-80-e6-b5-8b-e5-88-86-e7-b1-bb-e7-9c-9f-e6-89-8b-e6-8a-8a-e6-89-8b-e6-95-99-e7-a8-8b/">深度学习之图像目标检测分类-真手把手教程</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><strong>0.吐槽</strong></p>
<p>本人python零基础（16年就买了py学习手册一直没看完），深度学习零基础（17年买的花书翻了三页纸），突发奇想（领导要求），上马深度学习图像分类，三天时间跑起来python识别图像并对图片内容进行识别和框选分类。</p>
<p>吐槽：都说Python编程简洁，python的宗旨是：<strong>优美胜于丑陋、明了胜于晦涩、简洁胜于复杂、复杂胜于凌乱</strong>…..可是python的安装和各种编译器、各种库、各种pip、pip3、conda、wheel完全就把我弄昏了头。好不容易装起来了，又是各种路径、环境、配置乱七八糟各种问题，日了狗了。。真还不如MATLAB来的简单。。。好了吐槽归吐槽，本文让你从小白到运行py如飞。</p>
<h2 id="1-清单"><a href="#1-清单" class="headerlink" title="1.清单"></a>1.清单</h2><p><img src="http://woodybuendia.site/wp-content/uploads/2019/07/image.jpeg" alt=""></p>
<p>为避免文章冗长无章，先把所需清单和背景知识列举一下。</p>
<p>关键参考文献：<a href="https://towardsdatascience.com/object-detection-and-tracking-in-pytorch-b3cf1a696a98" target="_blank" rel="noopener">Object detection and tracking in PyTorch</a>，原作者简介： <em>Chris Fotache is an AI researcher with <em>[</em>CYNET.ai_](<a href="http://www.cynet.ai/" target="_blank" rel="noopener">http://www.cynet.ai/</a>)</em> based in New Jersey. He covers topics related to artificial intelligence in our life, Python programming, machine learning, computer vision, natural language processing and more._</p>
<p>该文章中英文对照 <strong><a href="https://ai.yanxishe.com/page/TextTranslation/1333" target="_blank" rel="noopener">用PyTorch来做物体检测和追踪</a></strong><a href="https://ai.yanxishe.com/page/TextTranslation/1333" target="_blank" rel="noopener"></a></p>
<p>所需软件：python3.7、Anaconda</p>
<p>本来用的是PyCharm作为编辑器，Anaconda为python库环境，但是PyCharm使用的时候总是遇到问题，后面在Anaconda里面也找到了python的命令行窗口，总算把程序跑起来了。</p>
<p>运行平台：windows 10</p>
<h2 id="2-安装和下载"><a href="#2-安装和下载" class="headerlink" title="2.安装和下载"></a>2.安装和下载</h2><h3 id="2-1-安装python"><a href="#2-1-安装python" class="headerlink" title="2.1 安装python"></a>2.1 安装python</h3><p>打开python官网，下载win平台最新版3.7，</p>
<p><a href="https://www.python.org/downloads/windows/" target="_blank" rel="noopener">https://www.python.org/downloads/windows/</a></p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/07/image-27-1024x504.png" alt=""></p>
<p>安装python，需要注意的是，勾选添加至系统路径。</p>
<h3 id="2-2-安装anaconda"><a href="#2-2-安装anaconda" class="headerlink" title="2.2 安装anaconda"></a>2.2 安装anaconda</h3><p>Anaconda安装文件较大，下载安装。Anaconda 是一个管理python的库的平台，众所周知，python之所以强大，是因为有各种库。需要什么功能，首先寻找有没有库，这也导致了python的库版本众多，管理困难，开发环境混乱。</p>
<p><a href="https://www.anaconda.com/distribution/" target="_blank" rel="noopener">https://www.anaconda.com/distribution/</a></p>
<p>下载链接</p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/07/image-26-1024x423.png" alt=""></p>
<h3 id="2-3-下载文件"><a href="#2-3-下载文件" class="headerlink" title="2.3 下载文件"></a>2.3 下载文件</h3><p>根据 参考文献：<a href="https://towardsdatascience.com/object-detection-and-tracking-in-pytorch-b3cf1a696a98" target="_blank" rel="noopener">Object detection and tracking in PyTorch</a>， 下载所需文件，下载地址为GitHub：<a href="https://github.com/cfotache/pytorch_objectdetecttrack" target="_blank" rel="noopener">https://github.com/cfotache/pytorch_objectdetecttrack</a></p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/07/image-28-1024x616.png" alt=""></p>
<p>下载权重文件 yolov3.weights （236MB）， 将该文件放入config文件夹中，下载地址：<a href="https://pjreddie.com/media/files/yolov3.weights" target="_blank" rel="noopener">https://pjreddie.com/media/files/yolov3.weights</a></p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/07/image-29-1024x476.png" alt=""></p>
<h3 id="2-4-安装python库"><a href="#2-4-安装python库" class="headerlink" title="2.4 安装python库"></a>2.4 安装python库</h3><p>所需库：pytorch、opencv、matplotlib</p>
<p>运行Anaconda Prompt</p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/07/image-31-1024x229.png" alt=""></p>
<p>在Pytorch官网选择自己的版本和平台，找到相应安装的命令。</p>
<p><a href="https://pytorch.org/" target="_blank" rel="noopener">https://pytorch.org/</a></p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/07/image-35-1024x582.png" alt=""></p>
<p>我这里选择python3.7 ，conda安装，无CPU版。</p>
<p>在打开的 Anaconda Prompt 中输入下面命令安装pytorch</p>
<pre><code>conda install pytorch-cpu torchvision-cpu -c pytorch</code></pre><p><img src="http://woodybuendia.site/wp-content/uploads/2019/07/image-34-1024x237.png" alt=""></p>
<p>在Anaconda Prompt中输入：<code>conda install matplotlib</code>安装matplot库</p>
<p>打开Anaconda Navigator</p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/07/image-30-1024x554.png" alt=""></p>
<p>左侧选择Environment</p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/07/image-36-1024x460.png" alt=""></p>
<p>搜索opencv，会出来三个，勾选后点击右下角的apply安装。</p>
<p>注意：如果勾选后选择安装出现错误，那么在creat中新建一个环境</p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/07/image-37-562x1024.png" alt=""></p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/07/image-38-1024x447.png" alt=""></p>
<p>我的就报错了，新建了一个名为opencv的环境，注意，这个环境与默认的base环境是独立的，之前安装的pytorch和matplot都还需要在安装一边。</p>
<p>由于anaconda环境不同，在anaconda prompt中，输入：</p>
<pre><code>activate opencv (此处是你新建的环境名称)</code></pre><p>切换到新环境之后，重新安装 pytorch和matplot</p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/07/image-39-1024x386.png" alt=""></p>
<h2 id="3-物体检测代码Object-Detection-in-Images"><a href="#3-物体检测代码Object-Detection-in-Images" class="headerlink" title="3 物体检测代码Object Detection in Images"></a>3 物体检测代码Object Detection in Images</h2><p>在从GitHub下载到的文件夹，名为：pytorch_objectdetecttrack-master，中新建python脚本：test.py</p>
<h3 id="3-1脚本"><a href="#3-1脚本" class="headerlink" title="3.1脚本"></a>3.1脚本</h3><p>输入以下代码：</p>
<pre><code>from models import *
from utils import *
import os, sys, time, datetime, random
import torch
from torch.utils.data import DataLoader
from torchvision import datasets, transforms
from torch.autograd import Variable
import matplotlib.pyplot as plt
import matplotlib.patches as patches
from PIL import Image

config_path=&apos;config/yolov3.cfg&apos;
weights_path=&apos;config/yolov3.weights&apos;
class_path=&apos;config/coco.names&apos;
img_size=416
conf_thres=0.8
nms_thres=0.4
# Load model and weights
model = Darknet(config_path, img_size=img_size)
model.load_weights(weights_path)
model.cuda()
#model.cpu()

model.eval()
classes = utils.load_classes(class_path)
Tensor = torch.cuda.FloatTensor

def detect_image(img):
    # scale and pad image
    ratio = min(img_size/img.size[0], img_size/img.size[1])
    imw = round(img.size[0] * ratio)
    imh = round(img.size[1] * ratio)
    img_transforms=transforms.Compose([transforms.Resize((imh,imw)),
         transforms.Pad((max(int((imh-imw)/2),0),
              max(int((imw-imh)/2),0), max(int((imh-imw)/2),0),
              max(int((imw-imh)/2),0)), (128,128,128)),
         transforms.ToTensor(),
         ])
    # convert image to Tensor
    image_tensor = img_transforms(img).float()
    image_tensor = image_tensor.unsqueeze_(0)
    input_img = Variable(image_tensor.type(Tensor))
    # run inference on the model and get detections
    with torch.no_grad():
        detections = model(input_img)
        detections = utils.non_max_suppression(detections, 80,
                        conf_thres, nms_thres)
    return detections[0]

# load image and get detections
img_path = &quot;images/blueangels.jpg&quot;

prev_time = time.time()
img = Image.open(img_path)
detections = detect_image(img)
inference_time = datetime.timedelta(seconds=time.time() - prev_time)
print (&apos;Inference Time: %s&apos; % (inference_time))
# Get bounding-box colors
cmap = plt.get_cmap(&apos;tab20b&apos;)
colors = [cmap(i) for i in np.linspace(0, 1, 20)]
img = np.array(img)
plt.figure()
fig, ax = plt.subplots(1, figsize=(12,9))
ax.imshow(img)
pad_x = max(img.shape[0] - img.shape[1], 0) * (img_size / max(img.shape))
pad_y = max(img.shape[1] - img.shape[0], 0) * (img_size / max(img.shape))
unpad_h = img_size - pad_y
unpad_w = img_size - pad_x
if detections is not None:
    unique_labels = detections[:, -1].cpu().unique()
    n_cls_preds = len(unique_labels)
    bbox_colors = random.sample(colors, n_cls_preds)
    # browse detections and draw bounding boxes
    for x1, y1, x2, y2, conf, cls_conf, cls_pred in detections:
        box_h = ((y2 - y1) / unpad_h) * img.shape[0]
        box_w = ((x2 - x1) / unpad_w) * img.shape[1]
        y1 = ((y1 - pad_y // 2) / unpad_h) * img.shape[0]
        x1 = ((x1 - pad_x // 2) / unpad_w) * img.shape[1]
        color = bbox_colors[int(np.where(
             unique_labels == int(cls_pred))[0])]
        bbox = patches.Rectangle((x1, y1), box_w, box_h,
             linewidth=2, edgecolor=color, facecolor=&apos;none&apos;)
        ax.add_patch(bbox)
        plt.text(x1, y1, s=classes[int(cls_pred)],
                color=&apos;white&apos;, verticalalignment=&apos;top&apos;,
                bbox={&apos;color&apos;: color, &apos;pad&apos;: 0})
plt.axis(&apos;off&apos;)
# save image
plt.savefig(img_path.replace(&quot;.jpg&quot;, &quot;-det.jpg&quot;),
                  bbox_inches=&apos;tight&apos;, pad_inches=0.0)
plt.show()</code></pre><h3 id="3-2-运行python"><a href="#3-2-运行python" class="headerlink" title="3.2 运行python"></a>3.2 运行python</h3><p>在打开的Anaconda Navigator中，选择环境，点击三角形箭头，在菜单中选择open with python</p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/07/image-40-1024x598.png" alt=""></p>
<p>输入import torch，导入模块；</p>
<p>输入torch.cuda.is_available()，测试计算机是否有显卡。</p>
<p><strong>讲道理pytorch是支持无显卡，纯CPU模式的，但是需要改代码，我不会，下载到的这个代码是GPU模式的。。好在我的笔记本有显卡，虽然很破，但是不会报错。另外，一般讲道理这里不应该通过anaconda来运行python的，而是通过PyCharm来编辑py代码和运行的。但是我的pycharm运行显卡测试时，总是Fase，换成anaconda打开的python，就显示Ture。这可能和笔记本的独显和集显有关。</strong></p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/07/image-41-1024x136.png" alt=""></p>
<h3 id="3-3切换工作目录"><a href="#3-3切换工作目录" class="headerlink" title="3.3切换工作目录"></a>3.3切换工作目录</h3><p>把通过anaconda启动的python命令行的工作目录切换到保存pytorch_objectdetecttrack-master的目录</p>
<p>输入：import os</p>
<p>输入：os.getcwd() 获取当前工作目录</p>
<p>输入os.chdir(‘’) 改变工作目录，我这里输入</p>
<pre><code>import os
os.chdir(&apos;D:/Python/pytorch_objectdetecttrack-master/pytorch_objectdetecttrack-master/&apos;)</code></pre><h3 id="3-4运行代码"><a href="#3-4运行代码" class="headerlink" title="3.4运行代码"></a>3.4运行代码</h3><p>在命令行输入：exec(open(‘test.py’).read()) 来执行test.py，即可检测图片中的物体。</p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/07/image-42-1024x447.png" alt=""></p>
<h2 id="4效果"><a href="#4效果" class="headerlink" title="4效果"></a>4效果</h2><p><img src="http://woodybuendia.site/wp-content/uploads/2019/07/laiy-det.jpg" alt=""></p>
<p><img src="http://woodybuendia.site/wp-content/uploads/2019/07/oldman-det.jpg" alt=""></p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E4%BA%92%E8%81%94%E7%BD%91/">计算机与互联网</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pytorch/" rel="tag">pytorch</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%9B%BE%E5%83%8F%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/" rel="tag">图像目标检测</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-antenna-magus-pro-2019" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/07/18/antenna-magus-pro-2019/" class="article-date">
      <time datetime="2019-07-18T08:04:16.000Z" itemprop="datePublished">2019-07-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/18/antenna-magus-pro-2019/">Antenna Magus Pro 2019 V9.2</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>Antenna Magus目前已经更新到 2019.2 v9.2，同时Magus 2019已经更改软件使用规则，没有license将不再能进入软件。由于目前网络上下载的CST 2019 license并不适用于magus，请使用下方链接中的license进行破解激活，应注意该license与CST 2019 update SP3相冲突，也就是要想用magus的话就不能使用sp3更新包了。。。 在破解安装9.2的过程中，我发现该license适用于magus 9.0，不适用于9.2，为了能用9.2，找到一种使用方法： 首先安装9.0版本，将安装目录下的solver文件夹拷贝复制，然后重新安装9.2版本，将刚才复制的solver文件夹移入安装目录进行替换，再按照常规方法进行破解之后即可使用。 <img src="http://woodybuendia.site/wp-content/uploads/2019/07/%E6%8D%95%E8%8E%B7-300x185.jpg" alt=""> <img src="http://woodybuendia.site/wp-content/uploads/2019/07/%E6%8D%95%E8%8E%B71-300x163.jpg" alt=""> Antenna Magus Pro 2019 v9.0 链接: <a href="https://pan.baidu.com/s/1oHzxa3Pu-F2XZ16M5zgjPA" target="_blank" rel="noopener">https://pan.baidu.com/s/1oHzxa3Pu-F2XZ16M5zgjPA</a> 提取码: 933m Antenna Magus Pro 2019 v9.2 链接: <a href="https://pan.baidu.com/s/1t2iZr5osdVjk5sbI5K7I3Q" target="_blank" rel="noopener">https://pan.baidu.com/s/1t2iZr5osdVjk5sbI5K7I3Q</a> 提取码: 93e9</p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E5%A4%A9%E7%BA%BF%E4%B8%8E%E5%BE%AE%E6%B3%A2/">天线与微波</a><a class="article-category-link" href="/categories/%E5%A4%A9%E7%BA%BF%E4%B8%8E%E5%BE%AE%E6%B3%A2/%E8%B5%84%E6%BA%90/">资源</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/antenna-magus/" rel="tag">antenna magus</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2020 John Doe
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/luuman/hexo-theme-spfk" target="_blank">spfk</a> by luuman
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >海贼到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>


<script src="/js/main.js"></script>


    <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>